<?xml version="1.0"?>
<!-- Generated by Docutils 0.19 -->
<section xml:id="_traversing-arrays-with-for-loops">
    <title>Traversing Arrays with For Loops</title>
  <subsection xml:id="_index-variables">
            <title>Index Variables</title>
            <p>In the last lesson, we mentioned that you can use a variable for the index of an array. You can even do math with that index and have an arithmetic expression inside the [], like below.</p>
            <program language="java"><input>
// highScores array declaration
int[] highScores = { 10, 9, 8, 8};
// use a variable for the index
int index = 3;
// modify array value at index
highScores[index] = 11;
// print array value at index
System.out.println(  highScores[index] );
System.out.println(  highScores[index - 1] );
</input></program>
            
            <p>What does the code above print out? You can follow the code in this <raw format="html" xml:space="preserve"><a href="http://www.pythontutor.com/visualize.html#code=public%20class%20ArrayWithIndexVar%20%7B%0A%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%20%7B%0A%20%20%20%20%20%20//%20highScores%20array%20declaration%0A%20%20%20%20%20%20int%5B%5D%20highScores%20%3D%20%7B%2010,%209,%208,%208%7D%3B%0A%20%20%20%20%20%20//%20use%20a%20variable%20for%20the%20index%0A%20%20%20%20%20%20int%20index%20%3D%203%3B%0A%20%20%20%20%20%20//%20modify%20array%20value%20at%20index%0A%20%20%20%20%20%20highScores%5Bindex%5D%20%3D%2011%3B%0A%20%20%20%20%20%20//%20print%20array%20value%20at%20index%0A%20%20%20%20%20%20System.out.println%28%20%20highScores%5Bindex%5D%20%29%3B%0A%20%20%20%20%20%20System.out.println%28%20%20highScores%5Bindex%20-%201%5D%20%29%3B%0A%20%20%20%20%7D%0A%7D&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank"  style="text-decoration:underline">visualizer</a></raw> and look at the image depicting the array below.</p>
            <figure align="center" xml:id="id1-41"><caption xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">Figure 1: Array with index variable</caption><image source="ch-sync/arraywithindex.png" width="NaN%"/></figure>
            

<exercise label="arraytrace1">
    <statement>
            <p>What do you think the following code will print out? First trace through it on paper keeping track of the array and the index variable. Then, run it to see if you were right. You can also follow it in the <raw format="html" xml:space="preserve"><a href="http://www.pythontutor.com/visualize.html#code=%20public%20class%20Test1%0A%20%20%20%7B%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20String%5B%20%5D%20names%20%3D%20%7B%22Jamal%22,%20%22Emily%22,%20%22Destiny%22,%20%22Mateo%22,%20%22Sofia%22%7D%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20int%20index%20%3D%201%3B%0A%20%20%20%20%20%20%20%20System.out.println%28names%5Bindex%20-%201%5D%29%3B%0A%20%20%20%20%20%20%20%20index%2B%2B%3B%0A%20%20%20%20%20%20%20%20System.out.println%28names%5Bindex%5D%29%3B%0A%20%20%20%20%20%20%20%20System.out.println%28names%5Bindex/2%5D%29%3B%0A%20%20%20%20%20%20%20%20names%5Bindex%5D%20%3D%20%22Rafi%22%3B%0A%20%20%20%20%20%20%20%20index--%3B%0A%20%20%20%20%20%20%20%20System.out.println%28names%5Bindex%2B1%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank"  style="text-decoration:underline">visualizer</a></raw> by clicking on the Show Code Lens button.</p>

    </statement>
    <program xml:id="arraytrace1_editor" interactive="activecode" language="java">

        <input>
public class Test1
{
   public static void main(String[] args)
   {
     String[ ] names = {"Jamal", "Emily", "Destiny", "Mateo", "Sofia"};

     int index = 1;
     System.out.println(names[index - 1]);
     index++;
     System.out.println(names[index]);
     System.out.println(names[index/2]);
     names[index] = "Rafi";
     index--;
     System.out.println(names[index+1]);
   }
}
        </input>
<tests>
// Test for Lesson 6.2

 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("Test1");
     }

     @Test
     public void test1() throws IOException
     {
         String output = getMethodOutput("main");
         String expect = "Jamal\nDestiny\nEmily\nRafi";

         boolean passed = getResults(expect, output, "Did you run the code?", true);
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>
        </subsection>
  <subsection xml:id="_for-loop-to-traverse-arrays">
            <title>For Loop to Traverse Arrays</title>
            
            
            <p xml:id="_index-0-49">We can use iteration with a <term>for loop</term> to visit each element of an array.  This is called <term>traversing</term> the array. Just start the index at <term>0</term> and loop while the index is less than the <term>length</term> of the array. Note that the variable <term>i</term> (short for index) is often used in loops as the loop counter variable and is used here to access each element of an array with its index.</p>
            <figure align="center" xml:id="id2-24"><caption xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">Figure 2: For Loop Traversing Array</caption><image source="ch-sync/arrayForLoop.png" width="NaN%"/></figure>
            <p>For example, here is a loop traversing the highScores array to print every score. Follow the code below in the <raw format="html" xml:space="preserve"><a href="http://www.pythontutor.com/visualize.html#code=public%20class%20ArrayLoop%0A%7B%0A%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%20%0A%20%20%20%20%7B%0A%0A%20%20%20%20%20%20%20%20int%5B%5D%20highScores%20%3D%20%7B%2010,%209,%208,%208%7D%3B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20highScores.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20System.out.println%28%20%20highScores%5Bi%5D%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%7D%0A%7D&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank"  style="text-decoration:underline">visualizer</a></raw>.</p>
            
            <program language="java"><input>
int[] highScores = { 10, 9, 8, 11};
for (int i = 0; i &lt; highScores.length; i++)
{
    System.out.println(  highScores[i] );
}
</input></program>
            <note>
                <p>Using a variable as the index is a powerful <term>data abstraction</term> feature because it allows us to use loops with arrays where the loop counter variable is the index of the array! This allows our code to generalize to work for the whole array.</p>
            </note>

<exercise label="arraytrace2">
    <statement>
            <p>What do you think the following code will print out? First trace through it on paper keeping track of the array and the index variable. Then, run it to see if you were right. Try the Code Lens button. Then, try adding your name and a friend’s name to the array names and run the code again. Did the code work without changing the loop?</p>

    </statement>
    <program xml:id="arraytrace2_editor" interactive="activecode" language="java">

        <input>
public class Test2
{
   public static void main(String[] args)
   {
     String[ ] names = {"Jamal", "Emily", "Destiny", "Mateo", "Sofia"};

     for (int i = 0; i &lt; names.length; i++)
     {
         System.out.println( names[i] );
     }
   }
}
        </input>
<tests>
// Test for Lesson 6.2

 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("Test2");
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "Jamal\nEmily\nDestiny\nMateo\nSofia";

         boolean passed = output.contains(expect);
         passed = getResults(expect, output, "Did you run the code?", passed);
         assertTrue(passed);
     }

     @Test
     public void test2()
     {
         String output = getMethodOutput("main");
         String expect = "Jamal\nEmily\nDestiny\nMateo\nSofia\nYour name\nFriend's name";

         int len = output.split("\n").length;

         boolean passed = len &gt;= 6;

         passed = getResults(expect, output, "Did you add two more names?", passed);
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>
            <p>The following code demonstrates a loop that changes the values in an array. In this code, the array is passed as an argument to the static methods in the class.  Arrays in Java are objects. The array variables are references to an address in memory. Since arrays can be very large, we do not want to copy them when we pass them into methods. When an array is passed as an argument to a method, the name of the array refers to its address in memory. Therefore, any changes to the array in the method will affect the original array. You can also try the code in the <raw format="html" xml:space="preserve"><a href="http://www.pythontutor.com/visualize.html#code=public%20class%20ArrayLoop%0A%20%20%20%7B%0A%0A%20%20%20%20%20//%20What%20does%20this%20method%20do%3F%0A%20%20%20%20%20%20public%20static%20void%20multAll%28int%5B%5D%20values,%20int%20amt%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20values.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20values%5Bi%5D%20*%20amt%3B%0A%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20What%20does%20this%20method%20do%3F%0A%20%20%20%20%20%20public%20static%20void%20printValues%28int%5B%5D%20values%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20values.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20System.out.println%28%20%20values%5Bi%5D%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20int%5B%5D%20numArray%20%3D%20%20%7B2,%206,%207,%2012,%205%7D%3B%0A%20%20%20%20%20%20%20%20multAll%28numArray,%202%29%3B%0A%20%20%20%20%20%20%20%20printValues%28numArray%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%20%20%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank"  style="text-decoration:underline">Java visualizer</a></raw>.</p>
            

<exercise label="lcal1">
    <statement>
            <p>What does the following code print out? Trace through it keeping track of the array values and the output. Then run it to see if you’re right. Notice that in this code, the array is passed as an argument to the methods. You can also try the code in the <raw format="html" xml:space="preserve"><a href="http://www.pythontutor.com/visualize.html#code=public%20class%20ArrayLoop%0A%20%20%20%7B%0A%0A%20%20%20%20%20//%20What%20does%20this%20method%20do%3F%0A%20%20%20%20%20%20public%20static%20void%20multAll%28int%5B%5D%20values,%20int%20amt%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20values.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20values%5Bi%5D%20*%20amt%3B%0A%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20//%20What%20does%20this%20method%20do%3F%0A%20%20%20%20%20%20public%20static%20void%20printValues%28int%5B%5D%20values%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20values.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20System.out.println%28%20%20values%5Bi%5D%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20int%5B%5D%20numArray%20%3D%20%20%7B2,%206,%207,%2012,%205%7D%3B%0A%20%20%20%20%20%20%20%20multAll%28numArray,%202%29%3B%0A%20%20%20%20%20%20%20%20printValues%28numArray%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%20%20%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank"  style="text-decoration:underline">Java visualizer</a></raw> with the Code Lens button.</p>

    </statement>
    <program xml:id="lcal1_editor" interactive="activecode" language="java">

        <input>
public class ArrayLoop
{

  // What does this method do?
   public static void multAll(int[] values, int amt)
   {
     for (int i = 0; i &lt; values.length; i++)
     {
       values[i] = values[i] * amt;
     }
   }

   // What does this method do?
   public static void printValues(int[] values)
   {
     for (int i = 0; i &lt; values.length; i++)
     {
        System.out.println(  values[i] );
     }
   }

   public static void main(String[] args)
   {
     int[] numArray =  {2, 6, 7, 12, 5};
     multAll(numArray, 2);
     printValues(numArray);
   }
}
        </input>
<tests>
// Test for Lesson 6.2

 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("ArrayLoop");
     }

     @Test
     public void test1() throws IOException
     {
         String output = getMethodOutput("main");
         String expect = "4 12 14 24 10";

         boolean passed = getResults(expect, output, "Did you run the code?",true);
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>
            <note>
                <p>Arrays in Java are objects. When arrays are passed in as arguments to methods, any changes to the array in the method will affect the original array, since the array name is a reference value refering to the address of the array in memory.</p>
            </note>
<exercise label="pab_1r" numbered="yes" adaptive="yes" indentation="show" language="python"><statement>
            <p>The following method has the correct code to subtract amt from all the values in the array values, but the code is mixed up.  Drag the blocks from the left into the correct order on the right. You will be told if any of the blocks are in the wrong order.</p>
</statement>
<blocks><block order="8">
<cline>public static void subAll(int[] values, int amt)</cline>
<cline>{</cline>
</block><block order="1">
<cline>     for (int i = 0;</cline>
</block><block order="4">
<cline>        i &lt; values.length;</cline>
</block><block order="3">
<cline>        i++)</cline>
</block><block order="5">
<cline>   {</cline>
</block><block order="7">
<cline>      values[i] = values[i] - amt;</cline>
</block><block order="6">
<cline>   } // end for loop</cline>
</block><block order="2">
<cline>} // end method</cline>
</block></blocks></exercise>        </subsection>
  <subsection xml:id="_looping-from-back-to-front">
            <title>Looping From Back to Front</title>
            
            
            <p xml:id="_index-1-11">You don’t have to loop through an array from the front to the back.  You can loop by starting at the back of the array and move toward the front during each time through the loop.  In the example below,  the method <c>getIndexOfLastElementSmallerThanTarget</c> returns the index of the last element in the array that is smaller than the given argument.  The <term>return</term> statement inside the loop stops the execution of the loop and the method and returns the index that is found immediately back to the main method. It returns -1 if there is no number in the array that is smaller than the given number.</p>
            

<exercise label="lcbf1">
    <statement>
            <p>What does the following code print out? Notice that the array and the target are passed in as arguments to the getIndexOfLastElementSmallerThanTarget method. Trace through it keeping track of the array values and the output. Then run it to see if you’re right.  You can also try the code in the <raw format="html" xml:space="preserve"><a href="http://www.pythontutor.com/java.html#code=%20%20%20public%20class%20ArrayFindSmallest%0A%20%20%20%7B%0A%0A%20%20%20%20%20%20/**%20%40return%20index%20of%20the%20last%20number%20smaller%20than%20target%20*/%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20int%20getIndexOfLastElementSmallerThanTarget%28int%5B%20%5D%20values,%20int%20target%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20for%20%28int%20index%20%3D%20values.length%20-%201%3B%20index%20%3E%3D%200%3B%20index--%29%0A%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28values%5Bindex%5D%20%3C%20target%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20index%3B%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20return%20-1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%20%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20int%5B%5D%20theArray%20%3D%20%7B-30,%20-5,%208,%2023,%2046%7D%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2050%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2050%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2030%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2030%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2010%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2010%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%200%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,0%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%20-20%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,-20%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%20-30%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,-30%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank"  style="text-decoration:underline">Java visualizer</a></raw> with the Code Lens button. Can you add another method that finds the index of the last element greater than the target instead of smaller than the target and have main print out a test of it? Call this method getIndexOfLastElementGreaterThanTarget and give it 2 arguments and a return value like the method below.</p>

    </statement>
    <program xml:id="lcbf1_editor" interactive="activecode" language="java">

        <input>
public class ArrayFindSmallest
{

   /** @return index of the last number smaller than target */
   public static int getIndexOfLastElementSmallerThanTarget(int[ ] values, int target)
   {
      for (int index = values.length - 1; index &gt;= 0; index--)
      {
         if (values[index] &lt; target)
             return index;
      }
      return -1;
   }

   /** Add a method called getIndexOfLastElementGreaterThanTarget
       @param int array
       @param int target
       @return index of the last number greater than target
   */



   public static void main (String[] args)
   {
      int[] theArray = {-30, -5, 8, 23, 46};
      System.out.println("Last index of element smaller than 50: " + getIndexOfLastElementSmallerThanTarget(theArray, 50));
      System.out.println("Last index of element smaller than 30: " + getIndexOfLastElementSmallerThanTarget(theArray, 30));
      System.out.println("Last index of element smaller than 10: " + getIndexOfLastElementSmallerThanTarget(theArray, 10));
      System.out.println("Last index of element smaller than 0: " + getIndexOfLastElementSmallerThanTarget(theArray,0));
      System.out.println("Last index of element smaller than -20: " + getIndexOfLastElementSmallerThanTarget(theArray,-20));
      System.out.println("Last index of element smaller than -30: " + getIndexOfLastElementSmallerThanTarget(theArray,-30));
   }
}
        </input>
<tests>
// Test for Lesson 6.2.3 - ArrayFindSmallest

 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("ArrayFindSmallest");
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "Last index of element smaller than ";

         boolean passed = output.contains(expect);
         output = output.substring(0, output.indexOf("\n"));
         passed = getResults("Last index of element smaller than 50: 4", output, "Ran getIndexOfLastElementSmallerThanTarget", passed);
         assertTrue(passed);
     }


     @Test
     public void test2()
     {
         int[] nums = {10, 50, 20, 30, 40, 20};
         Object[] args = {nums, 30};

         String output = getMethodOutput("getIndexOfLastElementGreaterThanTarget", args);
         String expect = "4";

         boolean passed = getResults(expect, output, "getIndexOfLastElementGreaterThanTarget({10, 50, 20, 30, 40, 20}, 30)");
         assertTrue(passed);
     }

     @Test
     public void test3()
     {
         int[] nums = {10, 50, 20, 30, 40, 20};
         Object[] args = {nums, 100};

         String output = getMethodOutput("getIndexOfLastElementGreaterThanTarget", args);
         String expect = "-1";

         boolean passed = getResults(expect, output, "getIndexOfLastElementGreaterThanTarget({10, 50, 20, 30, 40, 20}, 100)");
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>

    <exercise label="qab_6">
        <statement>

            <p>Given the following code segment (which is identical to the method above) what will be returned when you execute: getIndexOfLastElementSmallerThanTarget(values,-13);</p>
            <program language="java"><input>
private int[ ] values = {-20, -15, 2, 8, 16, 33};

public static int getIndexOfLastElementSmallerThanTarget(int[ ] values, int compare)
{
   for (int i = values.length - 1; i &gt;=0; i--)
   {
      if (values[i] &lt; compare)
         return i;
   }
   return -1; // to show none found
}
</input></program>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>-1</p>
                </statement>
                <feedback>
                    <p>The method will only return -1 if no value in the array is less than the passed value.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>-15</p>
                </statement>
                <feedback>
                    <p>The method returns the index of the first item in the array that is less than the value, not the value.</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>1</p>
                </statement>
                <feedback>
                    <p>Since the method loops from the back towards the front -15 is the last value in the array that is less than -13 and it is at index 1.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>You will get an out of bounds error.</p>
                </statement>
                <feedback>
                    <p>No, the method correctly starts the index at values.length - 1 and continues as long as i is greater than or equal to 0.</p>
                </feedback>
            </choice>
</choices>

    </exercise>

    <exercise label="qab_7">
        <statement>

            <p>Given the following code segment (which is identical to the method above) what will be returned when you execute: getIndexOfLastElementSmallerThanTarget(values, 7);</p>
            <program language="java"><input>
int[ ] values = {-20, -15, 2, 8, 16, 33};

public static int getIndexOfLastElementSmallerThanTarget(int[] values, int compare)
{
   for (int i = values.length; i &gt;=0; i--)
   {
      if (values[i] &lt; compare)
         return i;
   }
   return -1; // to show none found
}
</input></program>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>-1</p>
                </statement>
                <feedback>
                    <p>The method will only return -1 if no value in the array is less than the passed value.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>1</p>
                </statement>
                <feedback>
                    <p>Check the starting index.   Is it correct?</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>2</p>
                </statement>
                <feedback>
                    <p>Check the starting index.   Is it correct?</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>You will get an out of bounds error.</p>
                </statement>
                <feedback>
                    <p>You can not start the index at the length of the array.  You must start at the length of the array minus one.  This is a common mistake.</p>
                </feedback>
            </choice>
</choices>

    </exercise>
        </subsection>
  <subsection xml:id="_looping-through-part-of-an-array">
            <title>Looping through Part of an Array</title>
            
            
            <p xml:id="_index-2-4">You don’t have to loop through all of the elements of an array.  You can loop through just some of the elements of an array using a for loop.  The following code doubles the first five elements in an array.  Notice that it uses a complex conditional (<c>&amp;&amp;</c>) on line 14 to make sure that the loop doesn’t go beyond the length of the array, because if you had an array that had less than 5 elements, you wouldn’t want the code to try to double the 5th element which doesn’t exist! Notice that in this code, the array is a private instance variable of the class ArrayWorker. It is created in the constructor and changed or accessed by the methods.</p>

<exercise label="lclp1">
    <statement>
            <p>What will the following code print out? Can you write a similar method called tripleFirstFour() that triples the first 4 elements of the array? Make sure you test it in main.</p>

    </statement>
    <program xml:id="lclp1_editor" interactive="activecode" language="java">

        <input>
public class ArrayWorker
{
   private int[ ] values;

   public ArrayWorker(int[] theValues)
   {
      values = theValues;
   }

   /** Doubles the first 5 elements of the array */
   public void doubleFirstFive()
   {
     // Notice: &amp;&amp; i &lt; 5
     for (int i = 0; i &lt; values.length &amp;&amp; i &lt; 5; i++)
     {
       values[i] = values[i] * 2;
     }
   }

   /** Write a method called tripleFirstFour() that triples the first 4 elements of the array **/



   public void printArray()
   {
     for (int i = 0; i &lt; values.length; i++)
      {
        System.out.println(  values[i] );
      }
   }

   public static void main(String[] args)
   {
     int[] numArray = {3, 8, -3, 2, 20, 5, 33, 1};
     ArrayWorker worker = new ArrayWorker(numArray);
     worker.doubleFirstFive();
     worker.printArray();
   }
}
        </input>
<tests>
// Test for Lesson 6.2.4 - ArrayWorker

 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("ArrayWorker");

         int[] numArray = {0, 1, 2, 3, 4, 5};
         setDefaultValues(new Object[]{numArray});
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "6 16 -6 4 40 5 33 1".replaceAll(" ", "\n");

         boolean passed = output.contains(expect);

         passed = getResults(expect, output, "Did you run the doubleFirstFiveMethod?", passed);
         assertTrue(passed);
     }

     @Test
     public void test2()
     {
         String output = getMethodOutput("tripleFirstFour");
         output = getMethodOutput("printArray");
         String expect = "0 3 6 9 4 5".replaceAll(" ", "\n");

         boolean passed = output.contains(expect);

         passed = getResults(expect, output, "Testing tripleFirstFour() method on array [0, 1, 2, 3, 4, 5]", passed);
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>
            <p>You can even start in the middle and loop through the rest of the array.</p>

<exercise label="lclp2">
    <statement>
            <p>Does this work for arrays that have an even number of elements?  Does it work for arrays that have an odd number of elements?  Modify the main code below to test with both arrays with an even number of items and an odd number.</p>

    </statement>
    <program xml:id="lclp2_editor" interactive="activecode" language="java">

        <input>
public class ArrayWorker
{
   private int[ ] values;

   public ArrayWorker(int[] theValues)
   {
      values = theValues;
   }

   public void doubleLastHalf()
   {
     for (int i = values.length / 2; i &lt; values.length; i++)
     {
       values[i] = values[i] * 2;
     }
   }

   public void printArray()
   {
      for (int i = 0; i &lt; values.length; i++)
      {
        System.out.println(  values[i] );
      }
   }

   public static void main(String[] args)
   {
       int[] numArray = {3,8,-3, 2};
       ArrayWorker worker = new ArrayWorker(numArray);
       worker.doubleLastHalf();
       worker.printArray();
   }
}
        </input>
<tests>
// Test for Lesson 6.2.4 - ArrayWorker
 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;


 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("ArrayWorker");
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "3\n8\n-6\n4".replaceAll(" ", "\n");

         boolean passed = getResults(expect, output, "Testing main()", true);
         assertTrue(passed);
     }

     @Test
     public void test2()
     {
         String orig = "public class ArrayWorker\n{\n   private int[ ] values;\n\n   public ArrayWorker(int[] theValues)\n   {\n      values = theValues;\n   }\n\n   public void doubleLastHalf()\n   {\n     for (int i = values.length / 2; i &lt; values.length; i++)\n     {\n       values[i] = values[i] * 2;\n     }\n   }\n\n   public void printArray()\n   {\n      for (int i = 0; i &lt; values.length; i++)\n      {\n        System.out.println(  values[i] );\n      }\n   }\n\n   public static void main(String[] args)\n   {\n     int[] numArray = {3,8,-3, 2};\n     ArrayWorker worker = new ArrayWorker(numArray);\n     worker.doubleLastHalf();\n     worker.printArray();\n   }\n}\n";

         boolean passed = codeChanged(orig);
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>

    <exercise label="qab_8">
        <statement>

            <p>Given the following values of a and the method doubleLast what will the values of a be after you execute: doubleLast()?</p>
            <program language="java"><input>
private int[ ] a = {-20, -15, 2, 8, 16, 33};

public void doubleLast()
{

   for (int i = a.length / 2; i &lt; a.length; i++)
   {
      a[i] = a[i] * 2;
   }
}
</input></program>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>{-40, -30, 4, 16, 32, 66}</p>
                </statement>
                <feedback>
                    <p>This would true if it looped through the whole array.  Does it?</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>{-40, -30, 4, 8, 16, 32}</p>
                </statement>
                <feedback>
                    <p>This would be true if it looped from the beginning to the middle.  Does it?</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>{-20, -15, 2, 16, 32, 66}</p>
                </statement>
                <feedback>
                    <p>It loops from the middle to the end doubling each value. Since there are 6 elements it will start at index 3.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>{-20, -15, 2, 8, 16, 33}</p>
                </statement>
                <feedback>
                    <p>This would be true if array elements didn't change, but they do.</p>
                </feedback>
            </choice>
</choices>

    </exercise>

    <exercise label="qab_9">
        <statement>

            <p>Given the following values of a and the method mystery what will the values of a be after you execute: mystery()?</p>
            <program language="java"><input>
private int[ ] a = {-20, -15, 2, 8, 16, 33};

public void mystery()
{

   for (int i = 0; i &lt; a.length/2; i+=2)
   {
      a[i] = a[i] * 2;
   }
}
</input></program>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>{-40, -30, 4, 16, 32, 66}</p>
                </statement>
                <feedback>
                    <p>This would true if it looped through the whole array and doubled each.  Does it?</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>{-40, -30, 4, 8, 16, 33}</p>
                </statement>
                <feedback>
                    <p>This would be true if it looped from the beginning to the middle and doubled each.  Does it?</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>{-20, -15, 2, 16, 32, 66}</p>
                </statement>
                <feedback>
                    <p>This would be true if it looped from the middle to the end and doubled each.  Does it?</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>{-40, -15, 4, 8, 16, 33}</p>
                </statement>
                <feedback>
                    <p>This loops from the beginning to the middle and doubles every other element (i+=2 is the same as i = i + 2).</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>{-40, -15, 4, 8, 32, 33}</p>
                </statement>
                <feedback>
                    <p>This would be true if it looped through the whole array and doubled every other element.  Does it?</p>
                </feedback>
            </choice>
</choices>

    </exercise>
<exercise label="pab_3" numbered="yes" adaptive="yes" indentation="show" language="python"><statement>
            <p>The following program has the correct code to reverse the elements in an array, a,  but the code is mixed up.  Drag the blocks from the left into the correct order on the right. You will be told if any of the blocks are in the wrong order.</p>
</statement>
<blocks><block order="4">
<cline>public static void reverse(int[] a)</cline>
<cline>{</cline>
</block><block order="3">
<cline>  int temp = 0;</cline>
<cline>  int half = a.length / 2;</cline>
<cline>  int max = a.length - 1;</cline>
</block><block order="7">
<cline>  for (int i = 0; i &lt; half; i++)</cline>
<cline>  {</cline>
</block><block order="8">
<cline>     temp = a[i];</cline>
</block><block order="6">
<cline>     a[i] = a[max - i];</cline>
</block><block order="2">
<cline>     a[max - i] = temp;</cline>
</block><block order="5">
<cline>  } // end for</cline>
</block><block order="1">
<cline>} // end method</cline>
</block></blocks></exercise><exercise label="pab_4" numbered="yes" adaptive="yes" indentation="hide" language="python"><statement>
            <p>The following program has the correct code to return the average of the first 3 items in the array a, but the code is mixed up.  Drag the blocks from the left into the correct order on the right. You will be told if any of the blocks are in the wrong order or are indented incorrectly.</p>
</statement>
<blocks><block order="2">
<cline>public static double avg3(int[] a)</cline>
<cline>{</cline>
</block><block order="5">
<cline>  double total = 0;</cline>
</block><block order="1">
<cline>  for (int i = 0; i &lt; a.length &amp;&amp; i &lt; 3; i++)</cline>
<cline>  {</cline>
</block><block order="4">
<cline>    total = total + a[i];</cline>
</block><block order="6">
<cline>  } // end for</cline>
<cline>  return total / 3;</cline>
</block><block order="3">
<cline>} // end method</cline>
</block></blocks></exercise>        </subsection>
  <subsection xml:id="_common-errors-when-looping-through-an-array">
            <title>Common Errors When Looping Through an Array</title>
            <p>When processing all array elements, be careful to start at the first index which is <c>0</c> and end at the last index. Usually loops are written so that the index starts at 0 and continues while the index is less than <c>arrayName.length</c> since (arrayName.length - 1) is the index for the last element in the array. Make sure you do not use &lt;= instead of &lt;! If the index is less than 0 or greater than (arrayName.length - 1), an <term>ArrayIndexOutOfBoundsException</term> will be  thrown.  <term>Off by one</term> errors, where you go off the array by 1 element, are easy to make when traversing an array which result in an <term>ArrayIndexOutOfBoundsException</term> being thrown.</p>

    <exercise label="qIndexOutOfBounds">
        <statement>

            <p>Which of the following loop headers will cause an ArrayIndexOutOfBounds error while traversing the array scores?</p>
</statement><choices><choice><statement id="qIndexOutOfBounds_opt_a">            <p>for (int i = 0; i &lt; scores.length; i++)</p>
</statement><feedback id="qIndexOutOfBounds_opt_a">
            <p>This loop will traverse the complete array.</p>
</feedback></choice><choice><statement id="qIndexOutOfBounds_opt_b">            <p>for (int i = 1; i &lt; scores.length; i++)</p>
</statement><feedback id="qIndexOutOfBounds_opt_b">
            <p>This loop will not cause an error even though it will not visit the element at index 0.</p>
</feedback></choice><choice correct="yes"><statement id="qIndexOutOfBounds_opt_c">            <p>for (int i = 0; i &lt;= scores.length; i++)</p>
</statement><feedback id="qIndexOutOfBounds_opt_c">
            <p>The index cannot be equal to scores.length, since (scores.length - 1) is the index of the last element.</p>
</feedback></choice><choice><statement id="qIndexOutOfBounds_opt_d">            <p>for (int i = 0; scores.length &gt; i; i++)</p>
</statement><feedback id="qIndexOutOfBounds_opt_d">
            <p>Although the ending condition looks strange, (scores.length &gt; i) is equivalent to (i &lt; scores.length).</p>
</feedback></choice><choice correct="yes"><statement id="qIndexOutOfBounds_opt_e">            <p>for (int i = scores.length - 1; i &gt;= 0; i++)</p>
</statement><feedback id="qIndexOutOfBounds_opt_e">
            <p>This will cause an error because i++ will continue to increment the index past the end of the array. It should be replaced with i– to avoid this error.</p>
</feedback></choice></choices>
    </exercise>

<exercise label="offbyone">
    <statement>
            <p>The following code has an ArrayIndexOutOfBoundsException. It has 2 common off-by-one errors in the loop. Can you fix it and make the loop print out all the scores?</p>

    </statement>
    <program xml:id="offbyone_editor" interactive="activecode" language="java">

        <input>
public class OffByone
{
   public static void main(String[] args)
   {
       int[] scores = { 10, 9, 8, 7};
       // Make this loop print out all the scores!
       for (int i = 1; i &lt;= scores.length; i++)
       {
            System.out.println(  scores[i] );
       }
   }
 }
 ====
 // Test for Lesson 6.2 OffByOne
 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("OffByone");
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "9\n8\n7".replaceAll(" ", "\n");

         boolean passed = output.contains(expect);
         getResults(expect, output, "Testing right off-by-one error", passed);
         assertTrue(passed);
     }

     @Test
     public void test2()
     {
         String output = getMethodOutput("main");
         String expect = "10\n9\n8".replaceAll(" ", "\n");

         boolean passed = output.contains(expect);
         getResults(expect, output, "Testing left off-by-one error", passed);
         assertTrue(passed);
     }
     @Test
     public void checkCodeContains1(){
         boolean passed = checkCodeContains("fixes to for loop", "for (int i = 0; i &lt;");
         assertTrue(passed);
     }
 }
        </input>
<tests>


</tests>

    </program>
</exercise>
            <p>Be careful not to jump out of loop too early when you are looking for a value in an array.  The method below uses <term>return</term> statements to stop the execution of the method and return a value to the method that called this method.  However, you must be careful not to stop the loop too soon.</p>

<exercise label="lcap1">
    <statement>
            <p>What is wrong with the code below?  The first time through the loop it will start with the element at index 0 and check if the item at the array index equals the passed target string.  If they have the same characters in the same order it will return 0, otherwise it will return -1.  But, it has only processed one element of the array.  How would you fix the code to work correctly (process all array elements before returning)?</p>

    </statement>
    <program xml:id="lcap1_editor" interactive="activecode" language="java">

        <input>
public class StringWorker
{
   private String[ ] arr = {"Hello", "Hey", "Good morning!"};

   public int findString(String target)
   {
     String word = null;
     for (int index = 0; index &lt; arr.length; index++)
     {
       word = arr[index];

       if (word.equals(target))
       {
         return index;
       }
       else
       {
         return -1;
       }
     }
     return -1;
   }

   public static void main(String[] args)
   {
     StringWorker sWorker = new StringWorker();
     System.out.println(sWorker.findString("Hey"));
   }
}
        </input>
<tests>
// Test for Lesson 6.2.4 - ArrayWorker

 import static org.junit.Assert.*;
 import org.junit.*;;
 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests() {
         super("StringWorker");
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "1".replaceAll(" ", "\n");

         boolean passed = getResults(expect, output, "Testing main()", true);
         assertTrue(passed);
     }

     @Test
     public void test2()
     {
         StringWorker sWorker = new StringWorker();
         String output = ""+sWorker.findString("Good morning!");
         String expect = "2";

         boolean passed = getResults(expect, output, "Testing findString(\"Good morning!\")");
         assertTrue(passed);
     }

     @Test
     public void test3()
     {
         StringWorker sWorker = new StringWorker();
         String output = ""+sWorker.findString("Hello!");
         String expect = "-1";

         boolean passed = getResults(expect, output, "Testing findString(\"Hello!\")");
         assertTrue(passed);
     }
 }
</tests>

    </program>
</exercise>

    <exercise label="qab_5">
        <statement>

            <p> Given the following code segment, which of the following will cause an infinite loop?  Assume that <c>temp</c> is an int variable initialized to be greater than zero and that <c>a</c> is an array of integers.</p>
            <program language="java"><input>
for ( int k = 0; k &lt; a.length; k++ )
{
   while ( a[ k ] &lt; temp )
   {
      a[ k ] *= 2;
   }
}
</input></program>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>The values don't matter this will always cause an infinite loop.</p>
                </statement>
                <feedback>
                    <p>An infinite loop will not always occur in this code segment.</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>Whenever <i>a</i> includes a value that is less than or equal to zero.</p>
                </statement>
                <feedback>
                    <p>When <i>a</i> contains a value that is less than or equal to zero then multiplying that value by 2 will never make the result larger than the <i>temp</i> value (which was set to some value &gt; 0), so an infinite loop will occur.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>Whenever <i>a</i> has values larger then <i>temp</i>.</p>
                </statement>
                <feedback>
                    <p>Values larger then <i>temp</i> will not cause an infinite loop.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>When all values in <i>a</i> are larger than <i>temp</i>.</p>
                </statement>
                <feedback>
                    <p>Values larger then <i>temp</i> will not cause an infinite loop.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>Whenever <i>a</i> includes a value equal to <i>temp</i>.</p>
                </statement>
                <feedback>
                    <p>Values equal to <i>temp</i> will not cause the infinite loop.</p>
                </feedback>
            </choice>
</choices>

    </exercise>
        </subsection>
  <!-- <subsection xml:id="_arrays-game-1">
            <title>Arrays Game</title>
            
            <p>Try the game below to practice loops with arrays. Click on <term>Arrays</term> and then check on <term>Loops</term> and click on the elements of the * array that would be printed out by the given code. If you’re stuck, check on Labels to see the indices. We encourage you to work in pairs and see how high a score you can get.</p>
            <raw format="html" xml:space="preserve"><iframe height="700px" width="100%" style="margin-left:10%;max-width:80%" src="https://csa-games.netlify.app/"></iframe>
<script>     window.scrollTo(0, 0);</script></raw>
        </subsection> -->
</section>
